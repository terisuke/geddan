# DanceFrame ğŸ’ƒğŸ•º

**æ‰‹æãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨è¸Šã‚‹ã€AIé§†å‹•å‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–å‹•ç”»ç”Ÿæˆã‚¢ãƒ—ãƒª**

[![Next.js](https://img.shields.io/badge/Next.js-16.0-black?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.2-blue?logo=react)](https://react.dev/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.115-009688?logo=fastapi)](https://fastapi.tiangolo.com/)
[![Python](https://img.shields.io/badge/Python-3.11-3776AB?logo=python)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

<div align="center">
  <img src="docs/assets/demo.gif" alt="DanceFrame Demo" width="600"/>
  <p><em>æ‰‹æãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚ºã‚’çœŸä¼¼ã—ã¦ã€è‡ªåˆ†ã ã‘ã®ã€Œè¸Šã£ã¦ã¿ãŸå‹•ç”»ã€ã‚’ä½œæˆ</em></p>
</div>

---

## ğŸŒŸ ç‰¹å¾´

### ğŸ¨ **æ‰‹æãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è§£æ**
- **è‡ªå‹•ãƒ•ãƒ¬ãƒ¼ãƒ æŠ½å‡º**: FFmpegã«ã‚ˆã‚‹é«˜é€Ÿãƒ•ãƒ¬ãƒ¼ãƒ åˆ†è§£ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ15fpsã€æœ€å¤§60fpsï¼‰
  - çŸ­å°ºã‚¢ãƒ‹ãƒ¡ï¼ˆ<5ç§’ï¼‰: æœ€å¤§60fpsã§æŠ½å‡ºã—ã€ãƒãƒ¼ã‚ºæŠœã‘ã‚’é˜²æ­¢
  - é•·å°ºå‹•ç”»ï¼ˆ>20ç§’ï¼‰: è‡ªå‹•ã§èª¿æ•´ï¼ˆç·ãƒ•ãƒ¬ãƒ¼ãƒ æ•°300ä¸Šé™ï¼‰
- **çŸ¥è¦šãƒãƒƒã‚·ãƒ¥é‡è¤‡æ¤œå‡º**: imagehashã§é¡ä¼¼ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’è‡ªå‹•ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°
- **AIéª¨æ ¼æ¨å®š**: MediaPipe Pose Landmarkerã«ã‚ˆã‚‹33ç‚¹ã®éª¨æ ¼ãƒ©ãƒ³ãƒ‰ãƒãƒ¼ã‚¯æ¤œå‡º

### ğŸ“¸ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ¼ã‚ºãƒãƒƒãƒãƒ³ã‚°**
- **ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹AI**: WebAssembly + GPUåŠ é€Ÿã«ã‚ˆã‚‹é«˜é€Ÿæ¨è«–
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é¡ä¼¼åº¦è¨ˆç®—**: ç›®æ¨™ãƒãƒ¼ã‚ºã¨ã®ä¸€è‡´åº¦ã‚’ç¬æ™‚ã«è¡¨ç¤º
- **è‡ªå‹•ã‚·ãƒ£ãƒƒã‚¿ãƒ¼**: 85%ä»¥ä¸Šã®é¡ä¼¼åº¦ã§è‡ªå‹•æ’®å½±

### ğŸ¬ **è‡ªå‹•å‹•ç”»åˆæˆ**
- **ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°**: ãƒ•ãƒ¬ãƒ¼ãƒ å¯¾å¿œé–¢ä¿‚ã‚’è‡ªå‹•ç®¡ç†
- **éŸ³æºåŒæœŸ**: å…ƒå‹•ç”»ã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒˆãƒ©ãƒƒã‚¯ã‚’å®Œå…¨ä¿æŒ
- **é«˜å“è³ªå‡ºåŠ›**: H.264ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«ã‚ˆã‚‹æœ€é©åŒ–

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆï¼ˆãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œå‘ã‘ï¼‰

### å‰ææ¡ä»¶

- **Node.js** 20.xä»¥ä¸Š
- **Python** 3.11ä»¥ä¸Š
- **Redis 7.x**ï¼ˆè§£æé€²æ—ãƒãƒ¼ãƒªãƒ³ã‚°ã«å¿…é ˆï¼‰
- **FFmpeg**ï¼ˆãƒ•ãƒ¬ãƒ¼ãƒ æŠ½å‡ºã«å¿…é ˆï¼‰
- **Docker** & **Docker Compose** (ä»»æ„)

### 1) ãƒªãƒã‚¸ãƒˆãƒªå–å¾—
```bash
git clone git@github.com:terisuke/geddan.git
cd geddan
cp .env.example .env
```

### 2) ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼ˆå®ŸAPIã§è§£æã‚’å›ã™ï¼‰

```bash
cp packages/backend/.env.example packages/backend/.env

# Redis ã‚’èµ·å‹•ï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å¯ï¼‰
redis-server

# Backend ä¾å­˜ã‚’ç”¨æ„
cd packages/backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# Celery ãƒ¯ãƒ¼ã‚«ãƒ¼èµ·å‹•ï¼ˆåˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰
celery -A app.celery_worker worker --loglevel=info

# FastAPI èµ·å‹•
uvicorn app.main:app --reload --port 8000

# åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
cd ../frontend
npm install
NEXT_PUBLIC_USE_MOCK_API=false NEXT_PUBLIC_API_URL=http://localhost:8000 npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶: <http://localhost:3000> â†’ `/upload` ã§å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ â†’ `/analysis?jobId=...` ã§é€²æ—0â†’10â†’30â†’60â†’90â†’100%ã‚’ç¢ºèªã—ã€å®Œäº†å¾Œ `/capture` ã¸é·ç§»ã—ã¾ã™ã€‚

### 3) ã¾ãšUIã ã‘è©¦ã™ï¼ˆãƒ¢ãƒƒã‚¯APIï¼‰
- `NEXT_PUBLIC_USE_MOCK_API=true` ã®ã¾ã¾ `npm run dev` ã‚’å®Ÿè¡Œã€‚Redis/Celery/Backendã¯ä¸è¦ã§ã™ã€‚é€²æ—ã‚„ã‚µãƒ ãƒã¯ãƒ¢ãƒƒã‚¯ãŒè¿”ã‚Šã¾ã™ã€‚

### 4) Docker Composeï¼ˆä»»æ„ï¼‰
```bash
docker-compose up -d
# front:3000 / back:8000 / redis:6379 / worker
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
dance-frame/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ frontend/              # Next.js 16 + React 19
â”‚   â”‚   â”œâ”€â”€ app/               # ãƒ«ãƒ¼ãƒˆ/ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ components/        # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ lib/               # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ store/             # Zustand
â”‚   â”‚   â””â”€â”€ types/             # å‹å®šç¾©
â”‚   â”‚
â”‚   â””â”€â”€ backend/               # FastAPI + Celery
â”‚       â”œâ”€â”€ app/
â”‚       â”‚   â”œâ”€â”€ routers/       # upload/analyze
â”‚       â”‚   â”œâ”€â”€ services/      # frame_extractor, hash_analyzer ãªã©
â”‚       â”‚   â”œâ”€â”€ tasks/         # analyze_video, cleanup
â”‚       â”‚   â””â”€â”€ models/        # Pydanticãƒ¢ãƒ‡ãƒ«
â”‚       â”œâ”€â”€ uploads/           # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¿å­˜ï¼ˆå…ƒå‹•ç”»ãƒ»ä¸­é–“ãƒ•ãƒ¬ãƒ¼ãƒ ï¼‰
â”‚       â””â”€â”€ outputs/           # ç”Ÿæˆç‰©ï¼ˆã‚µãƒ ãƒãƒ»æœ€çµ‚å‹•ç”»ï¼‰â†’ /outputs/ ã§é™çš„é…ä¿¡
â”‚                               # æ³¨æ„: uploads/outputs ã¯ app/main.py ã® BASE_DIR (=packages/backend) 
â”‚                               #       ç›´ä¸‹ã«ä½œæˆã•ã‚Œã€çµ¶å¯¾ãƒ‘ã‚¹ã§ç®¡ç†ï¼ˆuvicornã®èµ·å‹•ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¾å­˜ã—ãªã„ï¼‰
â”‚
â”œâ”€â”€ docs/                     # è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆSETUP / LOCAL_DEV / MILESTONE_*ï¼‰
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

---

## ğŸ¯ ä½¿ã„æ–¹

### 1ï¸âƒ£ å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

æ‰‹æããƒ«ãƒ¼ãƒ—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆGIF/MP4ï¼‰ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

<img src="docs/assets/step1-upload.png" alt="Upload" width="400"/>

### 2ï¸âƒ£ è§£æã‚’å¾…ã¤

AIãŒè‡ªå‹•çš„ã«ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªãƒãƒ¼ã‚ºã‚’æ¤œå‡ºã—ã¾ã™ï¼ˆé€šå¸¸10-30ç§’ï¼‰ã€‚

<img src="docs/assets/step2-analysis.png" alt="Analysis" width="400"/>

### 3ï¸âƒ£ ãƒãƒ¼ã‚ºã‚’æ’®å½±

ã‚«ãƒ¡ãƒ©ã®å‰ã§ç›®æ¨™ãƒãƒ¼ã‚ºã‚’çœŸä¼¼ã—ã¾ã™ã€‚é¡ä¼¼åº¦85%ä»¥ä¸Šã§è‡ªå‹•æ’®å½±ï¼

<img src="docs/assets/step3-capture.png" alt="Capture" width="400"/>

### 4ï¸âƒ£ ç¢ºèªãƒ»æ’®ã‚Šç›´ã—

æ’®å½±ã—ãŸå†™çœŸã‚’ç¢ºèªã—ã€å¿…è¦ã«å¿œã˜ã¦æ’®ã‚Šç›´ã—ã¾ã™ã€‚

### 5ï¸âƒ£ å‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

ã€Œå‹•ç”»ã‚’ç”Ÿæˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å®Œæˆå‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼

<img src="docs/assets/step5-download.png" alt="Download" width="400"/>

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### Frontend

| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **Next.js** | 16.0 | Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆApp Routerï¼‰ |
| **React** | 19.2 | UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆReact Compilerå¯¾å¿œï¼‰ |
| **TypeScript** | 5.3 | å‹å®‰å…¨æ€§ |
| **MediaPipe Tasks Vision** | 0.10.15 | ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹AIéª¨æ ¼æ¨å®š |
| **Zustand** | 5.0.8 | è»½é‡çŠ¶æ…‹ç®¡ç† |
| **Tailwind CSS** | 3.4 | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° |
| **Framer Motion** | 11.0 | ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ |

### Backend

| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| **FastAPI** | 0.115 | é«˜é€ŸWebãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| **Celery** | 5.4 | ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¿ã‚¹ã‚¯å‡¦ç† |
| **Redis** | 7.2 | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ–ãƒ­ãƒ¼ã‚«ãƒ¼ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| **FFmpeg** | 6.1 | å‹•ç”»å‡¦ç† |
| **MediaPipe** | 0.10.14 | Pythonç‰ˆéª¨æ ¼æ¨å®š |
| **imagehash** | 4.3.1 | çŸ¥è¦šãƒãƒƒã‚·ãƒ¥è¨ˆç®— |
| **OpenCV** | 4.10 | ç”»åƒå‡¦ç† |

---

## ğŸ“Š ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Browser (HTTPS)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Next.js 16 (SSR + CSR)             â”‚   â”‚
â”‚  â”‚  - MediaPipe Pose (WASM + GPU)      â”‚   â”‚
â”‚  â”‚  - Canvas API                       â”‚   â”‚
â”‚  â”‚  - Zustand State                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ REST API (JSON)
                  â”‚ WebSocket (é€²æ—é€šçŸ¥)
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         FastAPI Server (Uvicorn)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  API Endpoints (async)              â”‚   â”‚
â”‚  â”‚  - /api/upload                      â”‚   â”‚
â”‚  â”‚  - /api/analyze/{job_id}            â”‚   â”‚
â”‚  â”‚  - /api/generate                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                 â†“                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Celery Workers (CPU-bound tasks)   â”‚   â”‚
â”‚  â”‚  - Frame extraction (FFmpeg)        â”‚   â”‚
â”‚  â”‚  - Perceptual hashing (imagehash)  â”‚   â”‚
â”‚  â”‚  - Pose estimation (MediaPipe)      â”‚   â”‚
â”‚  â”‚  - Video composition (FFmpeg)       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Redis (Message Broker)              â”‚
â”‚  - Task queue                               â”‚
â”‚  - Result backend                           â”‚
â”‚  - Session cache                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
[Upload] â†’ [Extract Frames] â†’ [Hash Analysis] â†’ [Pose Estimation]
                                                        â†“
                                                  [Mapping JSON]
                                                        â†“
[Capture] â†’ [Real-time Matching] â†’ [Auto Shutter] â†’ [Image Store]
                                                        â†“
                                              [Video Composition]
                                                        â†“
                                                   [Download]
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# mise ã‚’ä½¿ã£ãŸå®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
mise run backend:test   # pytest --cov=app
mise run frontend:test  # Playwright (ãƒ¢ãƒƒã‚¯API)

# Frontend ãƒ†ã‚¹ãƒˆ
cd packages/frontend
npm run test
npm run test:e2e

# Backend ãƒ†ã‚¹ãƒˆ
cd packages/backend
pytest
pytest --cov=app tests/
```

---

## ğŸ›  ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼ˆmiseï¼‰

```bash
# ä¾å­˜ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
mise run frontend:install
mise run backend:install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
mise run backend:serve   # http://localhost:8000
mise run frontend:dev    # http://localhost:3000

# ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
mise run clean
```

è©³ç´°: `docs/LOCAL_DEV.md` ã‚’å‚ç…§ã€‚é€²è¡Œä¸­ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³: ã€Œã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰â†’ãƒ•ãƒ¬ãƒ¼ãƒ æŠ½å‡ºâ†’pHashã‚¯ãƒ©ã‚¹ã‚¿â†’ã‚µãƒ ãƒè¡¨ç¤ºã€ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Œèµ°ã•ã›ã‚‹ã€‚

---

## ğŸš¢ ãƒ‡ãƒ—ãƒ­ã‚¤

### Vercel (Frontend)

```bash
# Vercel CLIã§ãƒ‡ãƒ—ãƒ­ã‚¤
cd packages/frontend
vercel --prod

# ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
# NEXT_PUBLIC_API_URL=https://your-backend.railway.app
```

### Railway (Backend)

```bash
# Railway CLIã§ãƒ‡ãƒ—ãƒ­ã‚¤
cd packages/backend
railway up

# ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
# REDIS_URL, CORS_ORIGINS, etc.
```

è©³ç´°ã¯ [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md) ã‚’å‚ç…§ã€‚

---

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

| æŒ‡æ¨™ | ç›®æ¨™å€¤ | å®Ÿæ¸¬å€¤ |
|------|--------|--------|
| ãƒ•ãƒ¬ãƒ¼ãƒ æŠ½å‡ºé€Ÿåº¦ | 1ç§’ã‚ãŸã‚Š30ãƒ•ãƒ¬ãƒ¼ãƒ  | 45ãƒ•ãƒ¬ãƒ¼ãƒ  |
| ãƒãƒ¼ã‚ºæ¨å®šï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰ | 30 FPSä»¥ä¸Š | 35-40 FPS |
| é¡ä¼¼åº¦è¨ˆç®— | 16msä»¥ä¸‹ | 8-12ms |
| å‹•ç”»ç”Ÿæˆæ™‚é–“ | 10ç§’ã®å‹•ç”»ã‚’30ç§’ä»¥å†… | 22ç§’ |

*æ¸¬å®šç’°å¢ƒ: MacBook Pro M2, Chrome 131*

---

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- âœ… **ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™**: æœ€å¤§100MB
- âœ… **MIMEã‚¿ã‚¤ãƒ—æ¤œè¨¼**: video/mp4, image/gif ã®ã¿è¨±å¯
- âœ… **Rate Limiting**: IPå˜ä½ã§1åˆ†é–“ã«10ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- âœ… **CORSè¨­å®š**: è¨±å¯ã•ã‚ŒãŸã‚ªãƒªã‚¸ãƒ³ã®ã¿
- âœ… **ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«è‡ªå‹•å‰Šé™¤**: 24æ™‚é–“å¾Œã«è‡ªå‹•å‰Šé™¤

---

## âš™ï¸ Video Processing Configuration

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ•ãƒ¬ãƒ¼ãƒ æŠ½å‡ºã¯ç’°å¢ƒå¤‰æ•°ã§èª¿æ•´å¯èƒ½ã§ã™ï¼š

| ç’°å¢ƒå¤‰æ•° | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|---------|------------|------|
| `FRAME_EXTRACT_FPS` | 15.0 | ãƒ•ãƒ¬ãƒ¼ãƒ æŠ½å‡ºFPSï¼ˆ1-60ã®ç¯„å›²ï¼‰ |
| MAX_FPSï¼ˆå®šæ•°ï¼‰ | 60.0 | æœ€å¤§æŠ½å‡ºFPS |
| MAX_FRAMESï¼ˆå®šæ•°ï¼‰ | 300 | æŠ½å‡ºãƒ•ãƒ¬ãƒ¼ãƒ æ•°ã®ä¸Šé™ |

**å‹•çš„èª¿æ•´ã®ä»•çµ„ã¿**:
- çŸ­å°ºå‹•ç”»ï¼ˆ~5ç§’ï¼‰: 60fpsã§æŠ½å‡º â†’ ç´„300ãƒ•ãƒ¬ãƒ¼ãƒ ï¼ˆãƒãƒ¼ã‚ºæŠœã‘æœ€å°åŒ–ï¼‰
- ä¸­å°ºå‹•ç”»ï¼ˆ~20ç§’ï¼‰: 15fpsã§æŠ½å‡º â†’ ç´„300ãƒ•ãƒ¬ãƒ¼ãƒ 
- é•·å°ºå‹•ç”»ï¼ˆ30ç§’+ï¼‰: è‡ªå‹•ç¸®å°ï¼ˆä¾‹: 30ç§’ â†’ 10fpsï¼‰â†’ MAX_FRAMES=300ã‚’ç¶­æŒ

è¨­å®šä¾‹ï¼ˆ`packages/backend/.env`ï¼‰:
```bash
# çŸ­å°ºã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å‘ã‘ã«é«˜FPSè¨­å®š
FRAME_EXTRACT_FPS=30.0
```

---

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ­“è¿ã—ã¾ã™ï¼ä»¥ä¸‹ã®æ‰‹é †ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

è©³ç´°ã¯ [CONTRIBUTING.md](CONTRIBUTING.md) ã‚’å‚ç…§ã€‚

---

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](LICENSE) ã®ä¸‹ã§ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ™ è¬è¾

- [MediaPipe](https://google.github.io/mediapipe/) - Google AI Edgeãƒãƒ¼ãƒ 
- [Next.js](https://nextjs.org/) - Vercelãƒãƒ¼ãƒ 
- [FastAPI](https://fastapi.tiangolo.com/) - SebastiÃ¡n RamÃ­rez
- [FFmpeg](https://ffmpeg.org/) - FFmpegãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- **Issues**: [GitHub Issues](https://github.com/yourusername/dance-frame/issues)
- **Discussions**: [GitHub Discussions](https://github.com/yourusername/dance-frame/discussions)
- **Email**: your.email@example.com

---

## ğŸ—ºï¸ ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### v1.0 (ç¾åœ¨) - MVP
- [x] åŸºæœ¬çš„ãªå‹•ç”»è§£æ
- [x] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ¼ã‚ºãƒãƒƒãƒãƒ³ã‚°
- [x] è‡ªå‹•å‹•ç”»åˆæˆ

### v1.1 (è¨ˆç”»ä¸­)
- [ ] ãƒãƒƒã‚¯ã‚«ãƒ¡ãƒ©å¯¾å¿œ
- [ ] ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
- [ ] ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½

### v2.0 (å°†æ¥)
- [ ] ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œ
- [ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [ ] SNSé€£æº

è©³ç´°ã¯ [docs/ROADMAP.md](docs/ROADMAP.md) ã‚’å‚ç…§ã€‚

---

<div align="center">
  <p>Made with â¤ï¸ by <a href="https://github.com/yourusername">Kosuke Terada</a></p>
  <p>â­ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå½¹ç«‹ã£ãŸå ´åˆã¯ã€ã‚¹ã‚¿ãƒ¼ã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼</p>
</div>
